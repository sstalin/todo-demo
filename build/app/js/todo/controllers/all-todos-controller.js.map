{"version":3,"names":[],"mappings":"","sources":["todo/controllers/all-todos-controller.js"],"sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc object\n   * @name todo.controller:AllTodosCtrl\n   *\n   * @description\n   *\n   */\n  angular\n    .module('todo')\n    .controller('AllTodosCtrl', AllTodosCtrl);\n\n  AllTodosCtrl.$inject = ['TodoApi', '$scope'];\n\n  function AllTodosCtrl(TodoApi, $scope) {\n    var vm = this;\n    vm.ctrlName = 'AllTodosCtrl';\n\n    vm.todos = TodoApi.get();\n\n    vm.handleClick = function (todo) {\n      TodoApi.setActive(todo);\n    };\n\n    vm.addToDo = function () {\n      var stub = {\n        \"userId\": null,\n        \"id\": null,\n        \"title\": \"Default Title\",\n        \"items\": []\n      };\n      var lastIndex = (vm.todos.length > 0)? vm.todos.length - 1 : 0;\n      var newId = vm.todos[lastIndex].id + 1;\n\n      if ($scope.addToDoForm.$valid) {\n        stub.userId = $scope.userId;\n        stub.title = $scope.title;\n        stub.id = newId;\n        vm.todos.push(stub);\n\n        $scope.userId = null;\n        $scope.title = null;\n      }\n    };\n\n    vm.removeToDo = function (index, e) {\n      e.stopPropagation();\n      vm.todos.splice(index, 1);\n    };\n\n    vm.testCompleted = function (task) {\n      var test;\n\n      if (task.items.length > 0) {\n        test = _.find(task.items, function (next) {\n          return next.completed === false;\n        });\n        if (!test) return {\"text-decoration\": \"line-through\"};\n      }\n    };\n  }\n}());\n"],"file":"todo/controllers/all-todos-controller.js","sourceRoot":"/source/"}