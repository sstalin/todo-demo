{"version":3,"names":[],"mappings":"","sources":["todo/services/todo-api-service.js"],"sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc service\n   * @name todo.service:TodoApi\n   *\n   * @description\n   *\n   */\n  angular\n    .module('todo')\n    .service('TodoApi', TodoApi);\n\n  TodoApi.$inject = ['$http'];\n\n  function TodoApi($http) {\n    var self = this;\n    var URL = \"data/todos.json\";\n    var activeTodo = {};\n    var activeId = null;\n    var allToDo = [];\n\n    self.get = get;\n    self.setActive = setActive;\n    self.getActive = getActive;\n\n    function setActive(todo) {\n      activeTodo = todo ? todo : {};\n    }\n\n    function setByActiveId() {\n      if (activeId && allToDo.length > 0) {\n        var temp = _.find(allToDo, function (next) {\n          return next.id == activeId;\n        });\n        for (var k in temp) {\n          activeTodo[k] = temp[k];\n        }\n      }\n    }\n\n    function getActive(id) {\n      if (activeTodo.id == id) return activeTodo;\n      activeId = id;\n      $http.get(URL).then(handler).then(setByActiveId);\n      return activeTodo;\n    }\n\n\n    function get() {\n      if (allToDo.length > 0) {\n        return allToDo;\n      }\n      $http.get(URL).then(handler);\n      return allToDo;\n    }\n\n    function handler(response) {\n      var next, data;\n      if (response.status == 200) {\n        data = response.data;\n        angular.forEach(data, function (next) {\n          allToDo.push(next);\n        });\n      }\n\n    }\n  }\n}());\n"],"file":"todo/services/todo-api-service.js","sourceRoot":"/source/"}